<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>stack_rtm_2D_435 &mdash; acq400_hapi aae86601b7b4611f2feb451bfafd648b6a2022e7 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom_style.css" type="text/css" />
    <link rel="shortcut icon" href="_static/d-tacq_logo.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/design-tabs.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="upsample" href="user_apps.analysis.upsample.html" />
    <link rel="prev" title="stack_rtm_2D_42518" href="user_apps.analysis.stack_rtm_2D_42518.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/d-tacq_logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="acq400_hapi.html">acq400_hapi</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="user_apps.html">user_apps</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">acq400_hapi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="user_apps.html">user_apps</a></li>
          <li class="breadcrumb-item"><a href="user_apps.analysis.html">analysis</a></li>
      <li class="breadcrumb-item active">stack_rtm_2D_435</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="stack-rtm-2d-435">
<h1>stack_rtm_2D_435<a class="headerlink" href="#stack-rtm-2d-435" title="Permalink to this heading"></a></h1>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Usage<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">stack_rtm_2D_435</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">plotchan</span> <span class="n">PLOTCHAN</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">stack_offset</span> <span class="n">STACK_OFFSET</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">burst_range</span> <span class="n">BURST_RANGE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">burst_list</span> <span class="n">BURST_LIST</span><span class="p">]</span>
                           <span class="p">[</span><span class="o">--</span><span class="n">maxlen</span> <span class="n">MAXLEN</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">root</span> <span class="n">ROOT</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">alignref</span> <span class="n">ALIGNREF</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">store_chan</span> <span class="n">STORE_CHAN</span><span class="p">]</span>
</pre></div>
</div>
<section id="named-arguments">
<h2>Named Arguments<a class="headerlink" href="#named-arguments" title="Permalink to this heading"></a></h2>
<dl class="option-list">
<dt><kbd>--plotchan</kbd></dt>
<dd><p class="sd-card-text">list of channels to plot</p>
<p class="sd-card-text">Default: “1,17”</p>
</dd>
<dt><kbd>--stack_offset</kbd></dt>
<dd><p class="sd-card-text">separate channels in plot</p>
<p class="sd-card-text">Default: 100</p>
</dd>
<dt><kbd>--burst_range</kbd></dt>
<dd><p class="sd-card-text">min, max, [stride] bursts to plot</p>
</dd>
<dt><kbd>--burst_list</kbd></dt>
<dd><p class="sd-card-text">list of bursts to plot</p>
</dd>
<dt><kbd>--maxlen</kbd></dt>
<dd><p class="sd-card-text">max length per burst to plot</p>
<p class="sd-card-text">Default: 999999</p>
</dd>
<dt><kbd>--root</kbd></dt>
<dd><p class="sd-card-text">directory with data</p>
<p class="sd-card-text">Default: “./DATA”</p>
</dd>
<dt><kbd>--alignref</kbd></dt>
<dd><p class="sd-card-text">realign on this channel [index from 1]</p>
</dd>
<dt><kbd>--store_chan</kbd></dt>
<dd><p class="sd-card-text">directory to store result by channel</p>
</dd>
</dl>
</section>
</div>
</details><section id="module-user_apps.analysis.stack_rtm_2D_435">
<span id="outline"></span><h2>Outline:<a class="headerlink" href="#module-user_apps.analysis.stack_rtm_2D_435" title="Permalink to this heading"></a></h2>
<p>acq480 2D data is unique in that channels “double tap”, so demux is .. tricky.</p>
<p>best practise is to demux on the box</p>
<p>what about rgm?. OK, download the demux data then reconstruct the ES</p>
<p>eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>./user_apps/acq400/set_burst.py --config_only 1 --rgm RTM --rtm_translen=250 --dx=d0 --sense=rising --trace=1 $UUTS

./user_apps/acq400/acq400_upload.py --trace_upload=1 --plot_data=1 --capture=-1 --save_data=./DATA/ $UUTS
</pre></div>
</div>
<p>Gives us</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pgm@hoy5 acq400_hapi]$ ls -l DATA
total 6276
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_148_CH01
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_148_CH02
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_148_CH03
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_148_CH04
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_148_CH05
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_148_CH06
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_148_CH07
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_148_CH08
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_149_CH01
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_149_CH02
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_149_CH03
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_149_CH04
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_149_CH05
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_149_CH06
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_149_CH07
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_149_CH08
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_278_CH01
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_278_CH02
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:19 acq1001_278_CH03
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_278_CH04
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_278_CH05
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_278_CH06
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_278_CH07
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_278_CH08
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_279_CH01
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_279_CH02
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_279_CH03
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_279_CH04
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_279_CH05
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_279_CH06
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_279_CH07
-rw-rw-r-- 1 pgm pgm 200000 Sep 24 11:20 acq1001_279_CH08
</pre></div>
</div>
<p>ES magic is present in even channels only</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[pgm@hoy5 acq400_hapi]$ hexdump DATA/acq1001_148_CH01 | grep aa55 | head
[pgm@hoy5 acq400_hapi]$
pgm@hoy5 acq400_hapi]$ hexdump DATA/acq1001_148_CH06 | grep aa55 | head
0000000 fe44 fe44 f154 aa55 fe44 fe4c fe48 fe44
00003f0 f154 aa55 fe44 fe48 fe48 fe48 fe44 fe48
00007d0 fe48 fe44 fe40 fe44 fe48 fe44 f154 aa55
0000bc0 fe44 fe44 fe40 fe40 f154 aa55 fe44 fe48
</pre></div>
</div>
<p>PLAN:
- load all the files as int16
- recast the CHeven to int32, locate and compare ES magic.</p>
<ul class="simple">
<li><p>then restack all the data as</p></li>
</ul>
<p>data[UUT][CHX][BURST][t]</p>
<p>Then plot it any way you like.</p>
<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.get_src_names">
<span class="sig-name descname"><span class="pre">get_src_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#get_src_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.get_src_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.get_esi">
<span class="sig-name descname"><span class="pre">get_esi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#get_esi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.get_esi" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.get_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.fix_args">
<span class="sig-name descname"><span class="pre">fix_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#fix_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.fix_args" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.plot_data">
<span class="sig-name descname"><span class="pre">plot_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#plot_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.plot_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.store_chan">
<span class="sig-name descname"><span class="pre">store_chan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#store_chan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.store_chan" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.rebase">
<span class="sig-name descname"><span class="pre">rebase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ith</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#rebase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.rebase" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.realign_burst">
<span class="sig-name descname"><span class="pre">realign_burst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#realign_burst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.realign_burst" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.realign">
<span class="sig-name descname"><span class="pre">realign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#realign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.realign" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.process_data">
<span class="sig-name descname"><span class="pre">process_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#process_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.process_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.run_main">
<span class="sig-name descname"><span class="pre">run_main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#run_main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.run_main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="user_apps.analysis.stack_rtm_2D_435.get_parser">
<span class="sig-name descname"><span class="pre">get_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/user_apps/analysis/stack_rtm_2D_435.html#get_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#user_apps.analysis.stack_rtm_2D_435.get_parser" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, D-Tacq.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>